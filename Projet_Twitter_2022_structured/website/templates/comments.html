{% extends "navbar.html" %}
{% block name %}
<div class="row justify-content-md-center pt-2">
    <div class="col col-10">
        <div class="my-3 p-3 bg-body rounded shadow-sm">
            <div class="text-muted pt-3">
                <div class="pb-2 mb-0 small lh-sm border-bottom">
                    <strong>
                        <p>{{twt.title}}</p>
                    </strong>
                    <div class="container-fluid">
                        <p class="text-justify">  
                            {{twt.content}}
                        </p>
                    </div>
                    <div class="d-flex justify-content-between">
                        <div class="d-flex justify-content-start">
                            <a href="/profile/{{usr}}" class="d-block text-decoration-none">@{{usr}}</a>
                            <p href="#" class="d-block text-decoration-none mx-1">-</p>
                            <p href="#" class="d-block text-decoration-none">{{twt.date.strftime("%d/%m/%y %H:%M")}}</p>
                        </div>
                        <div class="d-flex justify-content-start">
                            {% if current_user.username == usr %}
                                <a href="/delete/{{twt.id}}" class="text-decoration-none text-danger"><i class="bi bi-trash3"></i></a>
                            {% else %}
                                {% if twt.liked_by_current() %}
                                    <a href="/unlike/{{twt.id}}?redirect=feed" class="text-decoration-none me-1"><i class="bi bi-suit-heart-fill"></i> Unlike</a>
                                {% else %}
                                    <a href="/like/{{twt.id}}?redirect=feed" class="text-decoration-none me-1"><i class="bi bi-suit-heart"></i> Like</a>
                                {% endif %}
                                <p href="#" class="d-block text-decoration-none me-3">{{twt.dictLikes|length}}</p>
                                <a href="#" class="text-decoration-none me-1 font-weight-bold"><i class="bi-repeat-1"></i> Retweet</a>
                                <p href="#" class="d-block text-decoration-none ">0</p>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            <h6 class="pb-2 mb-0 pt-2">Comments</h6>
            {% for i in range(cmts|length) %}
            <div class="text-muted pt-3">
                <div class="pb-2 mb-0 small lh-sm ">
                    <div class="container-fluid">
                        <p class="text-justify">  
                            {{cmts[i].content}}
                        </p>
                    </div>
                    <div class="d-flex">
                        <a href="/profile" class="d-block text-decoration-none">@{{usrs[i]}}</a>
                        <p href="#" class="d-block text-decoration-none mx-1">-</p>
                        <p href="#" class="d-block text-decoration-none">{{cmts[i].date.strftime("%d/%m/%y %H:%M")}}</p>
                    </div>
                </div>
            </div>
            {% endfor %}
            <h6 class="pb-2 mb-0 pt-2">Leave a comment</h6>
            <form action="" method="post">
            <div class="d-flex text-muted pt-3">
                <textarea class="form-control" rows="3" name="comment"
                placeholder="Tell us what you are thinking about..." maxlength="400"></textarea>
            </div>
            <small class="d-block text-end mt-3">
                <button type="submit" class="btn btn-primary">Publish</button>
            </small>
            </form>
        </div>
        
    </div>
</div>
{% endblock %}